{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT/Desktop/dev-community/frontend/services/api.js"],"sourcesContent":["// next-app/services/api.js\r\nimport axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_BASE,\r\n  withCredentials: false, // optional, enable if you use cookies\r\n});\r\n\r\nexport default instance;\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAC3B;;;;;;AAEA,MAAM,WAAW,0GAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC5B,OAAO;IACP,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT/Desktop/dev-community/frontend/pages/create.js"],"sourcesContent":["// next-app/pages/create.js\r\n// import { useState } from 'react';\r\n// import axios from '../services/api';\r\n// import { useRouter } from 'next/router';\r\n\r\n// export default function CreatePost() {\r\n//   const [title, setTitle] = useState('');\r\n//   const [contentMarkdown, setContentMarkdown] = useState('');\r\n//   const router = useRouter();\r\n\r\n//   const handleSubmit = async () => {\r\n//     const token = localStorage.getItem('token');\r\n//     await axios.post('/posts', { title, contentMarkdown }, {\r\n//       headers: { Authorization: token },\r\n//     });\r\n//     router.push('/');\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"p-4 max-w-xl mx-auto\">\r\n//       <h2 className=\"text-xl font-bold\">Create a Post</h2>\r\n//       <input className=\"border p-2 w-full\" value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Post Title\" />\r\n//       <textarea className=\"border p-2 w-full mt-2\" rows=\"6\" value={contentMarkdown} onChange={e => setContentMarkdown(e.target.value)} placeholder=\"Write in Markdown...\" />\r\n//       <button className=\"bg-purple-600 text-white p-2 mt-4 w-full\" onClick={handleSubmit}>Submit</button>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// next-app/pages/create.js\r\nimport { useState, useEffect } from 'react';\r\nimport axios from '../services/api';\r\nimport { useRouter } from 'next/router';\r\n\r\nexport default function CreatePost() {\r\n  const [title, setTitle] = useState('');\r\n  const [contentMarkdown, setContentMarkdown] = useState('');\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    // Redirect unauthenticated users\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      router.push('/login');\r\n    }\r\n  }, [router]);\r\n\r\n\r\n  const handleSubmit = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('You must be logged in to create a post.');\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post('/posts', { title, contentMarkdown }, {\r\n        headers: { Authorization: `Bearer ${token}` }, // Add 'Bearer' prefix\r\n      });\r\n      router.push('/');\r\n    } catch (error) {\r\n      console.error('Error creating post:', error.response?.data || error.message);\r\n      alert('Failed to create post. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-2xl mx-auto bg-white rounded-lg shadow-md border border-gray-200 mt-8\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-gray-800 border-b pb-4\">Create a New Post</h2>\r\n      <div className=\"mb-4\">\r\n        <label htmlFor=\"title\" className=\"block text-gray-700 text-sm font-bold mb-2\">Title</label>\r\n        <input\r\n          id=\"title\"\r\n          className=\"border border-gray-300 rounded-lg p-3 w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 text-lg\"\r\n          value={title}\r\n          onChange={e => setTitle(e.target.value)}\r\n          placeholder=\"Enter a compelling title for your post\"\r\n        />\r\n      </div>\r\n      <div className=\"mb-6\">\r\n        <label htmlFor=\"content\" className=\"block text-gray-700 text-sm font-bold mb-2\">Content (Markdown supported)</label>\r\n        <textarea\r\n          id=\"content\"\r\n          className=\"border border-gray-300 rounded-lg p-3 w-full mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 font-mono text-base\"\r\n          rows=\"12\"\r\n          value={contentMarkdown}\r\n          onChange={e => setContentMarkdown(e.target.value)}\r\n          placeholder=\"Share your thoughts, code snippets, or articles using Markdown...\"\r\n        />\r\n      </div>\r\n      <button\r\n        className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg w-full transition duration-300 ease-in-out text-lg\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Publish Post\r\n      </button>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,2BAA2B;AAC3B,oCAAoC;AACpC,uCAAuC;AACvC,2CAA2C;AAE3C,yCAAyC;AACzC,4CAA4C;AAC5C,gEAAgE;AAChE,gCAAgC;AAEhC,uCAAuC;AACvC,mDAAmD;AACnD,+DAA+D;AAC/D,2CAA2C;AAC3C,UAAU;AACV,wBAAwB;AACxB,OAAO;AAEP,aAAa;AACb,6CAA6C;AAC7C,6DAA6D;AAC7D,gIAAgI;AAChI,+KAA+K;AAC/K,4GAA4G;AAC5G,aAAa;AACb,OAAO;AACP,IAAI;AAEJ,2BAA2B;;;;;AAC3B;AACA;AACA;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,iCAAiC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;KAAO;IAGX,MAAM,eAAe;QACnB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,MAAM;YACN;QACF;QACA,IAAI;YACF,MAAM,wGAAA,CAAA,UAAK,CAAC,IAAI,CAAC,UAAU;gBAAE;gBAAO;YAAgB,GAAG;gBACrD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;YAC3E,MAAM;QACR;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAG,WAAU;0BAAsD;;;;;;0BACpE,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAM,SAAQ;wBAAQ,WAAU;kCAA6C;;;;;;kCAC9E,qKAAC;wBACC,IAAG;wBACH,WAAU;wBACV,OAAO;wBACP,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;wBACtC,aAAY;;;;;;;;;;;;0BAGhB,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAM,SAAQ;wBAAU,WAAU;kCAA6C;;;;;;kCAChF,qKAAC;wBACC,IAAG;wBACH,WAAU;wBACV,MAAK;wBACL,OAAO;wBACP,UAAU,CAAA,IAAK,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAChD,aAAY;;;;;;;;;;;;0BAGhB,qKAAC;gBACC,WAAU;gBACV,SAAS;0BACV;;;;;;;;;;;;AAKP","debugId":null}}]
}